<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.23.xsd">

    <changeSet id="003-1" author="galero">
        <comment>Update existing 'default' goal types to 'normal'</comment>
        <update tableName="goals">
            <column name="goal_type" value="normal"/>
            <where>goal_type = 'default'</where>
        </update>
    </changeSet>

    <changeSet id="003-2" author="galero">
        <comment>Change goal_type enum from 'default' to 'normal'</comment>
        <sql>
            ALTER TABLE goals MODIFY COLUMN goal_type ENUM('normal', 'penalty', 'own_goal') NOT NULL DEFAULT 'normal';
        </sql>
    </changeSet>

</databaseChangeLog>
